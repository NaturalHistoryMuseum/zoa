import{_ as fe}from"./iframe-60d9633c.js";import{b as s,p as i,s as ye,o,d,u as y,n as l,t as $,k as E,f as c,F as z,q as V,e as F,H as be,I as A,J as P,j as G}from"./vue.esm-bundler-322ccd87.js";import{u as _e,a as ge,d as he}from"./common-880f5067.js";import{Z as N}from"./Number-32185992.js";import{Z as M}from"./Button-5c9ec013.js";import{g as $e}from"./_commonjsHelpers-725317a4.js";import{a as C,u as x,b as D}from"./index-8677b196.js";import{_ as Se}from"./_plugin-vue_export-helper-c27b6911.js";var ke={__locale:"en",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviated_days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviated_months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:"AM",pm:"PM"},ze=ke;const j=$e(ze),Ve="zoa__T01c0__input",Ce="zoa__Zrad1__label",De="zoa__-K9Da__grid",Be="zoa__zCutL__inputContainer",we="zoa__DBAOk__datePopup",Ee="zoa__e8GS9__popupSection",Fe="zoa__tN5Fw__yearGrid",Ae="zoa__Z8UyZ__monthGrid",Pe="zoa__6Tknh__dayGrid",Ge="zoa__oPUQ-__editing",Ne="zoa__GtJv-__suggestion",Me={input:Ve,label:Ce,"label--right":"zoa__SxVfB__label--right","label--below":"zoa__YLIdi__label--below","label--above":"zoa__E7ufb__label--above",grid:De,"grid--above":"zoa__KeVwr__grid--above","grid--below":"zoa__KyL5-__grid--below","grid--left":"zoa__Ytl98__grid--left","grid--right":"zoa__KxP7T__grid--right",inputContainer:Be,datePopup:we,popupSection:Ee,yearGrid:Fe,monthGrid:Ae,dayGrid:Pe,editing:Ge,suggestion:Ne},xe=["id"],Te=["for"],Ie=["placeholder","id"],Ze=["onClick","onKeydown"],L={__name:"DateAmbiguous",props:{modelValue:{type:Object},label:{type:String,default:"Date"},labelPosition:{type:String,default:"above"},delay:{type:Number,default:200},placeholder:{type:String,default:null}},emits:["change","update:modelValue"],setup(v,{emit:U}){const W=v,Y=()=>fe(()=>import("./dates-be628fcd.js"),["./dates-be628fcd.js","./_commonjsHelpers-725317a4.js","./iframe-60d9633c.js","./vue.esm-bundler-322ccd87.js","./common-880f5067.js","./Number-32185992.js","./_plugin-vue_export-helper-c27b6911.js","./Number-7693425d.css","./Button-5c9ec013.js","./Button-d429b82f.css","./index-8677b196.js"],import.meta.url),{componentId:q,subId:T}=_e(),{valueChanged:R}=ge(U,W.delay),I=s(null),B=s(!1),w=s(null),{focused:H}=C(w),b=s(null),_=s(null),g=s(null),Q=x(b),X=C(b),ee=x(_),te=C(_),ae=x(g),ne=C(g),Z=i(()=>{let e;return Q.focused.value?e=b.value:ee.focused.value?e=_.value:ae.focused.value&&(e=g.value),e}),p=i(()=>{let e;return X.focused.value?e=b.value:te.focused.value?e=_.value:ne.focused.value&&(e=g.value),e});D("Enter",()=>{Z&&Z.value.children[0].focus()}),D("ArrowLeft",()=>{if(!p.value)return;const e=p.value.querySelector("button:focus");!e||!e.previousElementSibling?p.value.children[p.value.children.length-1].focus():e.previousElementSibling.focus()}),D("ArrowRight",()=>{if(!p.value)return;const e=p.value.querySelector("button:focus");!e||!e.nextElementSibling?p.value.children[0].focus():e.nextElementSibling.focus()}),D("Escape",()=>{const e=w.value.querySelector("*:focus");e&&e.blur()});const h=i(()=>({year:k.value,month:m.value,day:u.value})),le=i(()=>O(h.value.year,h.value.month,h.value.day));function oe(){I.value.value=le.value,B.value=!1}const S=s([]);function ue(e){B.value=!0,Y().then(a=>{S.value=a.parseDate(e.target.value)})}const J=he(ue,200);function K(e){n.value=e.year,m.value=e.month,u.value=e.day,S.value=[]}const n=s(null),se=i(()=>{let e=11;return n.value&&n.value>=1e3?e=Math.floor(n.value/10)*10:n.value&&n.value<1e3&&(e=n.value*10),Array(10).fill(e).map((a,t)=>a+t)}),k=i(()=>{if(!n.value)return null;if(n.value>=1e3)return n.value;let e=10**(4-n.value.toString().length);return n.value*e}),re=i(()=>k.value%100===0?k.value%400===0:k.value%4===0);function ie(e){return e.toString().padEnd(4,"0")}function de(e){n.value=e,u.value&&u.value>f.value&&(u.value=f.value)}const m=s(null),ce=s(j.abbreviated_months),f=i(()=>[4,6,9,11].includes(m.value)?30:m.value===2?re.value?29:28:31);function ve(e){m.value=e,u.value&&u.value>f.value&&(u.value=f.value)}const u=s(null),pe=i(()=>Array(f.value).fill(1).map((e,a)=>a+1));function me(e){u.value=e}function O(e,a,t){const r=j.abbreviated_months[a-1];return e&&a&&t?`${t} ${r} ${e}`:e&&a?`${r} ${e}`:e&&t?`${t} ??? ${e}`:a&&t?`${t} ${r}`:e||(a?r:t?`day ${t}`:null)}return ye(h,()=>{oe(),R(h.value)}),(e,a)=>(o(),d("div",{class:l([e.$style.grid,e.$style[`grid--${v.labelPosition}`]]),id:y(q),ref_key:"container",ref:w},[v.label&&v.labelPosition!=="none"?(o(),d("label",{key:0,for:y(T)("date"),class:l([e.$style.label,e.$style[`label--${v.labelPosition}`]])},$(v.label),11,Te)):E("",!0),c("div",{class:l(e.$style.inputContainer)},[c("input",{type:"text",placeholder:v.placeholder,id:y(T)("date"),class:l([e.$style.input,B.value?e.$style.editing:""]),ref_key:"displayBox",ref:I,onInput:a[0]||(a[0]=(...t)=>y(J)&&y(J)(...t))},null,42,Ie),y(H)?(o(),d("div",{key:0,class:l(e.$style.datePopup)},[S.value.length>0?(o(),d("div",{key:0,class:l(e.$style.popupSection)},[(o(!0),d(z,null,V(S.value,t=>(o(),d("span",{onClick:r=>K(t),onKeydown:be(r=>K(t),["enter"]),class:l(e.$style.suggestion),tabindex:"0"},$(O(t.year,t.month,t.day)),43,Ze))),256))],2)):E("",!0),c("div",{class:l(e.$style.popupSection)},[F(N,{label:"year","label-position":"left",placeholder:1900,modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=t=>n.value=t),min:0,max:9999},null,8,["modelValue"]),c("div",{class:l(e.$style.yearGrid),tabindex:"0",ref_key:"yearBtns",ref:b},[(o(!0),d(z,null,V(se.value,t=>(o(),A(M,{size:"sm",onClick:r=>de(t),tabindex:"-1"},{default:P(()=>[G($(ie(t)),1)]),_:2},1032,["onClick"]))),256))],2)],2),c("div",{class:l(e.$style.popupSection)},[F(N,{label:"month","label-position":"left",placeholder:1,modelValue:m.value,"onUpdate:modelValue":a[2]||(a[2]=t=>m.value=t),min:1,max:12},null,8,["modelValue"]),c("div",{class:l(e.$style.monthGrid),tabindex:"0",ref_key:"monthBtns",ref:_},[(o(!0),d(z,null,V(ce.value,(t,r)=>(o(),A(M,{size:"sm",onClick:Ke=>ve(r+1),tabindex:"-1"},{default:P(()=>[G($(t),1)]),_:2},1032,["onClick"]))),256))],2)],2),c("div",{class:l(e.$style.popupSection)},[F(N,{label:"day","label-position":"left",placeholder:1,modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=t=>u.value=t),min:1,max:f.value},null,8,["modelValue","max"]),c("div",{class:l(e.$style.dayGrid),tabindex:"0",ref_key:"dayBtns",ref:g},[(o(!0),d(z,null,V(pe.value,t=>(o(),A(M,{size:"sm",onClick:r=>me(t),tabindex:"-1"},{default:P(()=>[G($(t),1)]),_:2},1032,["onClick"]))),256))],2)],2)],2)):E("",!0)],2)],10,xe))}},Je={$style:Me},He=Se(L,[["__cssModules",Je]]);L.__docgenInfo={exportName:"default",displayName:"DateAmbiguous",description:"",tags:{},props:[{name:"v-model",tags:{model:[{description:!0,title:"model"}]},type:{name:"object"}},{name:"label",description:"Text for the input label.",type:{name:"string"},defaultValue:{func:!1,value:"'Date'"}},{name:"labelPosition",description:"Position of the input label (or none).",tags:{},values:["left","right","above","below","none"],type:{name:"string"},defaultValue:{func:!1,value:"'above'"}},{name:"delay",description:"Debounce delay for the `change` event, in ms.",type:{name:"number"},defaultValue:{func:!1,value:"200"}},{name:"placeholder",description:"Text to display in the blank input.",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"change",description:"Emitted when the value changes; debounced if the delay prop is > 0.",properties:[{type:{names:["object"]},name:"newValue",description:"the new value"}],tags:[{title:"arg",type:{name:"object"},name:"newValue",description:"the new value"}]},{name:"update:modelValue",tags:[{title:"ignore",content:!0}]}],sourceFiles:["/home/runner/work/zoa/zoa/src/components/inputs/date/DateAmbiguous.vue"]};export{He as Z,j as d};
//# sourceMappingURL=DateAmbiguous-33a68284.js.map
