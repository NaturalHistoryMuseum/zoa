import{b as S,s as w,y as O,z as j,A as k,u as I,p as h}from"./vue.esm-bundler-b646f49e.js";function L(e,t){let n,o,i;const l=S(!0),a=()=>{l.value=!0,i()};w(e,a,{flush:"sync"});const s=typeof t=="function"?t:t.get,r=typeof t=="function"?void 0:t.set,d=O((f,p)=>(o=f,i=p,{get(){return l.value&&(n=s(),l.value=!1),o(),n},set(u){r==null||r(u)}}));return Object.isExtensible(d)&&(d.trigger=a),d}function P(e){return j()?(k(e),!0):!1}function b(e){return typeof e=="function"?e():I(e)}const _=typeof window<"u"&&typeof document<"u",C=Object.prototype.toString,W=e=>C.call(e)==="[object Object]",E=()=>{},R=D();function D(){var e;return _&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function y(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}const g=_?window:void 0;function m(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=g):[t,n,o,i]=e,!t)return E;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const l=[],a=()=>{l.forEach(f=>f()),l.length=0},s=(f,p,u,c)=>(f.addEventListener(p,u,c),()=>f.removeEventListener(p,u,c)),r=w(()=>[y(t),b(i)],([f,p])=>{if(a(),!f)return;const u=W(p)?{...p}:p;l.push(...n.flatMap(c=>o.map(v=>s(f,c,v,u))))},{immediate:!0,flush:"post"}),d=()=>{r(),a()};return P(d),d}let A=!1;function M(e,t,n={}){const{window:o=g,ignore:i=[],capture:l=!0,detectIframe:a=!1}=n;if(!o)return;R&&!A&&(A=!0,Array.from(o.document.body.children).forEach(u=>u.addEventListener("click",E)),o.document.documentElement.addEventListener("click",E));let s=!0;const r=u=>i.some(c=>{if(typeof c=="string")return Array.from(o.document.querySelectorAll(c)).some(v=>v===u.target||u.composedPath().includes(v));{const v=y(c);return v&&(u.target===v||u.composedPath().includes(v))}}),f=[m(o,"click",u=>{const c=y(e);if(!(!c||c===u.target||u.composedPath().includes(c))){if(u.detail===0&&(s=!r(u)),!s){s=!0;return}t(u)}},{passive:!0,capture:l}),m(o,"pointerdown",u=>{const c=y(e);c&&(s=!u.composedPath().includes(c)&&!r(u))},{passive:!0}),a&&m(o,"blur",u=>{setTimeout(()=>{var c;const v=y(e);((c=o.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(v!=null&&v.contains(o.document.activeElement))&&t(u)},0)})].filter(Boolean);return()=>f.forEach(u=>u())}function V(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function N(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=g,eventName:l="keydown",passive:a=!1,dedupe:s=!1}=o,r=V(t);return m(i,l,f=>{f.repeat&&b(s)||r(f)&&n(f)},a)}function x(e={}){var t;const{window:n=g,deep:o=!0}=e,i=(t=e.document)!=null?t:n==null?void 0:n.document,l=()=>{var s;let r=i==null?void 0:i.activeElement;if(o)for(;r!=null&&r.shadowRoot;)r=(s=r==null?void 0:r.shadowRoot)==null?void 0:s.activeElement;return r},a=L(()=>null,()=>l());return n&&(m(n,"blur",s=>{s.relatedTarget===null&&a.trigger()},!0),m(n,"focus",a.trigger,!0)),a}function T(e,t={}){const{initialValue:n=!1,focusVisible:o=!1}=t,i=S(!1),l=h(()=>y(e));m(l,"focus",s=>{var r,d;(!o||(d=(r=s.target).matches)!=null&&d.call(r,":focus-visible"))&&(i.value=!0)}),m(l,"blur",()=>i.value=!1);const a=h({get:()=>i.value,set(s){var r,d;!s&&i.value?(r=l.value)==null||r.blur():s&&!i.value&&((d=l.value)==null||d.focus())}});return w(l,()=>{a.value=n},{immediate:!0,flush:"post"}),{focused:a}}function q(e,t={}){const n=x(t),o=h(()=>y(e));return{focused:h(()=>o.value&&n.value?o.value.contains(n.value):!1)}}export{q as a,N as b,M as o,T as u};
//# sourceMappingURL=index-445dbd13.js.map
