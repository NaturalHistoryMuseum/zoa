import{p as E,b as p,o as a,d as n,u as f,n as s,t as w,k as z,f as b,w as O,v as F,l as T,F as C,q as A}from"./vue.esm-bundler-480dfa76.js";import{u as I,a as N}from"./common-563d614d.js";import{u as q,a as B,o as P,b as v}from"./index-e0b2a32e.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const M="zoa__u1jpB__input",D="zoa__K4jZT__label",j="zoa__wc4xP__grid",K="zoa__0mMOV__wrapper",U="zoa__FvT7h__options",J="zoa__hqIBJ__option",L="zoa__V565X__noOptions",R={input:M,label:D,"label--right":"zoa__CsI39__label--right","label--below":"zoa__OyBO0__label--below","label--above":"zoa__rnMm-__label--above",grid:j,"grid--above":"zoa__lZr2b__grid--above","grid--below":"zoa__s1ZFN__grid--below","grid--left":"zoa__Imuk0__grid--left","grid--right":"zoa__2DZpe__grid--right",wrapper:K,options:U,option:J,noOptions:L},W=["id"],X=["for"],G=["placeholder","id"],H={key:0},Q=["onClick"],Y=["value"],k={__name:"AutocompleteTextbox",props:{modelValue:{},labelPosition:{type:String,default:"above"},label:{type:String,default:"Text"},placeholder:{type:String,default:null},delay:{type:Number,default:200},options:{type:Array}},emits:["change","update:modelValue"],setup(t,{emit:$}){const y=t,{componentId:S,subId:g}=I(),{value:i}=N($,y),r=E(()=>{let e=[];return y.options.forEach(l=>{typeof l=="object"?e.push({label:l.label,value:l.value}):e.push({label:l,value:l})}),e}),_=p(null),c=p(null),o=p(null),d=p(!1),V=q(c),m=B(o);function h(){try{_.value.blur(),c.value.blur(),o.value.blur()}catch{}d.value=!1}P(_,()=>{d.value=!1}),v("ArrowDown",()=>{if(r.value.length!==0){if(V.focused.value)o.value.children[0].children[0].focus();else if(m.focused.value){const e=o.value.querySelector("li:focus");!e||!e.nextElementSibling?o.value.children[0].children[0].focus():e.nextElementSibling.focus()}}}),v("ArrowUp",()=>{if(r.value.length!==0&&m.focused.value){const e=o.value.querySelector("li:focus");!e||!e.previousElementSibling?c.value.focus():e.previousElementSibling.focus()}}),v("Enter",()=>{if(m.focused.value){const e=o.value.querySelector("li:focus");e&&x(e.querySelector("input").value)}h()});function x(e){i.value=e,h()}return(e,l)=>(a(),n("div",{class:s([e.$style.grid,e.$style[`grid--${t.labelPosition}`]]),id:f(S)},[t.label&&t.labelPosition!=="none"?(a(),n("label",{key:0,for:f(g)("textbox"),class:s([e.$style.label,e.$style[`label--${t.labelPosition}`]])},w(t.label),11,X)):z("",!0),b("div",{class:s(e.$style.wrapper),ref_key:"container",ref:_},[O(b("input",{type:"text",placeholder:t.placeholder,id:f(g)("textbox"),class:s(e.$style.input),"onUpdate:modelValue":l[0]||(l[0]=u=>T(i)?i.value=u:null),onFocusin:l[1]||(l[1]=u=>d.value=!0),ref_key:"textbox",ref:c},null,42,G),[[F,f(i)]]),d.value?(a(),n("div",{key:0,class:s(e.$style.options),ref_key:"dropdown",ref:o},[r.value.length>0?(a(),n("ul",H,[(a(!0),n(C,null,A(r.value,u=>(a(),n("li",{class:s(e.$style.option),onClick:le=>x(u.value),tabindex:"0"},[b("span",null,w(u.label),1),b("input",{type:"hidden",value:u.value},null,8,Y)],10,Q))),256))])):(a(),n("div",{key:1,class:s(e.$style.noOptions)},"No options found",2))],2)):z("",!0)],2)],10,W))}},ee={$style:R},se=Z(k,[["__cssModules",ee]]);k.__docgenInfo={exportName:"default",displayName:"AutocompleteTextbox",description:"",tags:{},props:[{name:"modelValue"},{name:"labelPosition",type:{name:"string"},defaultValue:{func:!1,value:"'above'"}},{name:"label",type:{name:"string"},defaultValue:{func:!1,value:"'Text'"}},{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"delay",type:{name:"number"},defaultValue:{func:!1,value:"200"}},{name:"options",type:{name:"array"}}],events:[{name:"change"},{name:"update:modelValue"}],sourceFiles:["/home/runner/work/zoa/zoa/src/components/inputs/textbox/AutocompleteTextbox.vue"]};export{se as Z};
//# sourceMappingURL=AutocompleteTextbox-6382d598.js.map
